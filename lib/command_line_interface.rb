#Greeting to our Users
class CLI 

        def self.frame_one
          puts "                    
                                   oshmdosh
                                  9//+sshdy//               Run
                                 9//oy+ooo////
                                  9//+/.:-+///
                                  9///:.-:+//                   
                                 9//+:...+/
                              9//:::/:/..-o/////++/
                             9//+.+/+:+//+o:///++o/
                              9//::/o+++++o::/:/+/
                               9///++/++++o//
                                9///oo++++o//
                                 9//+s++++o//
                                   9///o++//+//
                                    9///+//:://
                                9//+o+/+//:/+-+//
                               9//s+o:+////o:so++/
                               9//ooo+//////osooo+/
            -:::::::::::::::::::::::::::::::::::::::::::::
          ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_two
          puts "
                                 oshmdosh
                                9//+sshdy//
                               9//oy+ooo////
                                9//+/.:-+///
                                9///:.-:+//             Laugh
                               9//+:...+/
                           9+.//+-++/+s////++o//
                            9:-:++++++o::/::+//
                             9:++/o++++/:///
                               9+o++++o///
                                9s++++o///
                                9o+//++///
                              909+09:///
                            9+so://-:::////
                           9+yos//////+/+/////
                           9++////////o+osoo//
                                      9o+////
        -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_three
          puts "
                                       oshmdosh
                                      9//+sshdy//
                                     9//oy+ooo////            Jump
                                      9//+/.:-+///
                                      9///:.-:+//
                                     9//+:...+/
                                   9-:+:+:-:o////
                                   9.++:++++s/////+///
                                   9:::++/++o:::+++///
                                     9oso+++o///////
                                     9osoooos////
                                      9o//+/+///
                                      9o+:o////
                                        9:/:///
                                    9+yo//:/:////
                                   9soso/+:+//////
                                   9++////+osss+///
                                           9oo+//////
          -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_four
          puts "
                                        oshmdosh
                                       9//+sshdy//
                                      9//oy+ooo////
                                       9//+/.:-+///             Love
                                       9///:.-:+//
                                      9//+:...+/   
                                    9-+-o+/+s+///
                                    9-/+++++o+//+++///
                                      9+/o++++:/++///
                                      9+s++++++////
                                      9s+++++///
                                      9o//+//+//
                                        9:///-///
                                      9oo+.+:://
                                      9y+y.+///
                                      9so+:o///
                                        9y+sso+//
                                         9++++//
          -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_five
          puts "
                                         oshmdosh
                                       9//+sshdy//
                                      9//oy+ooo////
                                       9//+/.:-+///
                                       9///:.-:+//
                                      9//+:...+/
                                    9.+-o+//s+////
                                    9-/+++++o+/////
                                        9o++/:++o////
                                     9+s++++++////
                                      9s++++o////
                                      9o//++/////
                                      9++:+///-///                Dance
                                       9o+://:///
                                       9h-+////
                                      9++o/////
                                      9y+sso+///
          -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_six
          puts "  
                                      oshmdosh
                                     9//+sshdy//
                                    9//oy+ooo////
                                     9//+/.:-+///
                                     9///:.-:+//
                                    9//+:...+/
                                  9:/-++/+s/////
                                   9:/+/+o/+///////
                                   9++//+o+/++o/////                  Walk
                                   9+o++++o//////
                                    9s++++o/////
                                    9o//o+//:///
                                     9://///-/////
                                     9-o+:/://///
                                    9+-y/y//////
                                   9+/o/so////
                                  9osoyso+/////
          -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_seven
          puts "
                                      oshmdosh
                                     9//+sshdy//
                                    9//oy+ooo////
                                     9//+/.:-+///
                                     9///:.-:+//
                                    9//+:...+/
                                   9-:+-.-o/////                Be Yourself
                                   9::++++o/////
                                   9::///+++//////
                                   9oo//++o++o+////
                                   9oo++o+o/////
                                    9o//+/++/////
                                    9o:/o+//:///
                                     9-+////:////
                                   9-/+o+/+/////
                                 9/////9ooy/////
                                9+o:s////+o+////
                                9+oss+////////
          #-:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.frame_eight
          puts "
                                        oshmdosh
                                       9//+sshdy//
                                      9//oy+ooo////
                                       9//+/.:-+///            CODE!!!!
                                       9///:.-:+//
                                      9//+:...+/
                                     9-:+::/o//////
                                     9-/+++++://////                          CODE!!!!       
                                     9+/:::+s//+////
                                     9oo++++o+++////
                                     9oo++++o///////
                                      9o//+++/:////
                                      9+:+++///:////                    CODE!!!!
                                       9://////////
                                    9:-//+s/y/////
                                  9++://///+oos////       CODE!!!!
                                9+s/h/////////////
                               ////9sso/////
          -:::::::::::::::::::::::::::::::::::::::::::::
        ".colorize(:yellow)
          sleep (0.09)
          system 'clear'
        end
        def self.animation
          5.times do
            CLI.frame_one
            CLI.frame_two
            CLI.frame_three
            CLI.frame_four
            CLI.frame_six
            CLI.frame_seven
            CLI.frame_eight
          end
        end
        def self.go
          system 'clear'
          self.animation
        end
      
    def fit_me_plan_image
        puts " 
        -............- `...--                                                                      .............`   ``..-.                                 
        `-....-```.---------.    `.--:                                                             ``-...-..-...-- ``...--                                 
         .-..-- `-- `.``....-``---...-..-`            `...-.`...--``...--`   `...--..`               -...:   .`..:` .`..-.    `..-...`    ``.-.  `.-.`     
         .-..--.---.   --...-` .`-...-...`           `:...----...---....-:  .-..-`.----              -...-````.---  ``..-.  ``-.`...-:`  ``..---....-:     
         .-..--`.-:`    --..-`   :..-:                .-..-- .-..-- `:..-: .-..----.--:              -..----..-.`   .`.--.  ```..``.--.  ``..-- ``..-:`    
         .-----  ..     -----`   :..-:` `             .-.--- `-.---  :.--: .-.---````.`              -.--:`         .`---.   `.-...----   `----  ``--:`    
       `-------..      -:----:`  -------:`           `:----:`--.--:..:.---- .---------.            ``..----`       ``.----``.---...---:-  `---:   .----`   
       `........`      .......`   ......`            `-.....`-.....``......   `.....``             `.......`       `......` `....``.-.` `......  `....-`   
                                         .-.--------:                                  ..----------                                                        
                                         `..........-                                  ............                                                        
                                                                                                     
       ".colorize(:light_green)
    end

    def flash
        msg = "                                                        LOADING FITMEPLAN                                                    "
        # Witty Quote to Create
        # system "say #{msg}"
        puts ""
        5.times do 
            print "\r#{ ' ' * msg.size}"
            sleep 0.5
            print "\r#{msg.colorize(:red)}"
            sleep 0.5
        end
        puts ""
    end

    def welcome
        puts "Welcome to FitMePlan, the best workout log for fitness gurus in the world!!".colorize(:light_magenta)
        puts "Please enter 'gym' if you would like to log in as a Gym Owner.".colorize(:light_magenta)
        puts "Otherwise, please enter your name here to log into your records as a User:".colorize(:light_magenta)
    end

    def user_input
      @user_name = gets.strip.capitalize
    end


    def gym_welcome
        puts "What is the name of your facility?"
        # self.gym_input #could possibly run these in the run file
        # self.gym_instance
      
    end

    def gym_input
      @gym_name = gets.strip.titlecase
    end

    def gym_instance
      @gym_instance = Gym.all.find do |instance|
        @gym_name == instance.name
        # binding.pry
      end
    end

    def non_valid_gym_instance_check
        puts "Sorry, your facility does not seem to be in our system." 
        puts "Please get in contact with our facilities rep at facilities.rep@fitmeplan.net if you would like to open an account for your facility."
        puts "Hope you will join us soon!"
        exit
    end

    # def validate_gym 
    #   if @gym_instance == nil
    #     non_valid_gym_instance_check
    #   end
  
    # end

    def gym_options_greeting
      "Hello, #{@gym_name}. How may we assist you today?"
    end

    def gym_options_prompt
      puts "Please enter a number for one of the following options:".colorize(:light_magenta)
        puts "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
      puts "1. View a list of your facility members.".colorize(:light_magenta)
      puts " ---------------------------------------------------------------"
      puts "2. View the last date a particular member attended your facility.".colorize(:light_magenta)
      puts " ---------------------------------------------------------------"
      puts "3. Find the average age of your members.".colorize(:light_magenta)
      puts " ---------------------------------------------------------------"
      puts "4. Log out".colorize(:light_magenta)
    end

    def gym_option_input
      @gym_option_input = gets.strip
    end
    

    def gym_menu_return
      puts "Enter any key to return to the main menu."
      gets
      gym_options_prompt
      gym_option_input
      gym_method_selection
    end
    
    def gym_selection_one
        puts "--------------------------------------------------------------------"
        puts gym_instance.find_all_gym_users
        puts "--------------------------------------------------------------------"
        gym_menu_return
    end

    def gym_selection_two
      puts "--------------------------------------------------------------------"
      puts gym_instance.last_workout_date
      # binding.pry
      puts "--------------------------------------------------------------------"
      gym_menu_return
    end

    def gym_selection_three
      puts "--------------------------------------------------------------------"
      puts gym_instance.gym_average_age
      puts "--------------------------------------------------------------------"
      gym_menu_return
    end

    def gym_selection_four
      puts "Thank you for using FitMePlans Gym app!"
    end

    def user_instance 
        @user_instance = User.all.find do |instance|
            @user_name == instance.name
        end
    end

    def user_instance_check 
            puts "--------------------------------------------------------------------"
            puts "Sorry, you don't appear to have an account with us. Would you like to make one? (enter 'yes' to make an account or 'no' to exit the application)"
            # new_user_input
            # new_user
            # binding.pry
    
    end

    def new_user_input 
        set_up = gets
        @user_set_up_response = set_up.strip
    end

    def new_user 
        if @user_set_up_response == "yes"
            new_user_set
            User.create(name: @name, age: @age, start_weight: @start_weight)

        else
            puts "Thank you for using FitMePlan today. We hope you will join us soon!"
            exit
        end
  
    end

    def new_user_set 
        puts "What is your name?"
        @name = gets.strip.capitalize
        puts "How old are you?"
        @age = gets.strip.to_i
        puts "What is you current weight"
        @start_weight = gets.strip.to_i
    end

    def options_greeting
        puts "-----------------------------------------------------------"
        puts "Hello, #{@user_name}. How can we help you today?".colorize(:light_cyan)
        puts "-----------------------------------------------------------"
    end

    def options_prompt
        
        puts "Please enter a number for one of the following options:".colorize(:light_magenta)
        puts "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
        puts "1. Get a list of all the days I worked out.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "2. Find all of the workouts I did on a specific date.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "3. Find out what muscle groups I worked out on a specific date.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "4. Find exercises that work a particuar muscle group.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "5. Log my current weight.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "6. Find out how much weight I have lost/gained.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "7. Log in a new workout.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "8. Share a new exercise.".colorize(:cyan)
        puts " ---------------------------------------------------------------"
        puts "9. Log Out".colorize(:cyan)
    end

    def option_input
        jquery = gets
        @user_selection = jquery.strip #gets rid of ending
        #this method prompts and saves the users selection from the prompt to variable
    end

    def return_to_main_menu
        puts "Enter any key to return to the main menu."
        gets
        options_prompt
        option_input
        user_method_selection
    end

    def selection_one
        puts " ---------------------------------------------------------------"
        puts user_instance.list_of_days_worked_out
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_two
        puts "What date should we look for? (format: yyyy-mm-dd)"
        date = gets.strip
        puts " ---------------------------------------------------------------"
        puts user_instance.exercise_on_a_day(date) 
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_three
        puts "What date should we look for? (format: yyyy-mm-dd)"
        date = gets.strip
        puts " ---------------------------------------------------------------"
        puts user_instance.muscle_groups_on_given_day(date) 
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_four
        puts "What muscle group would you like to find workouts for today?"
        muscle = gets.strip
        puts " ---------------------------------------------------------------"
        puts Exercise.search_exercise_by_muscle_group(muscle)
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_five
        puts "What is your current weight?"
        weight = gets.strip.to_i
        puts " ---------------------------------------------------------------"
        puts user_instance.log_my_weight(weight)
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_six
        puts " ---------------------------------------------------------------"
        puts user_instance.weight_lost
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_seven
        puts "Log in a new Exercise."
        exercise = gets.strip
        puts " ---------------------------------------------------------------"
        puts "What date would you like to log this workout? (Format: yyyy-mm-dd)"
        date = gets.strip
        puts " ---------------------------------------------------------------"
        puts user_instance.log_new_workout(exercise, date)
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selectiong_eight
        puts "What exercise would you'd like to share with others?"
        exercise = gets.strip
        puts " ---------------------------------------------------------------"
        puts "What muscle group does this exercise target?"
        muscle_group = gets.strip
        puts " ---------------------------------------------------------------"
        puts user_instance.create_new_exercise(exercise, muscle_group)
        puts " ---------------------------------------------------------------"
        return_to_main_menu
    end

    def selection_nine
        puts "Thank you for using FitMePlan today. Hope to see you again soon!"
    end

    def user_method_selection
        # user = user_instance.name
        # selection = 1
        if @user_selection == "1"
            selection_one
        elsif @user_selection == "2"
            selection_two
        elsif @user_selection == "3"
            selection_three
        elsif @user_selection == "4"
            selection_four
        elsif @user_selection == "5"
            selection_five
        elsif @user_selection == "6"
            selection_six
        elsif @user_selection == "7"
            selection_seven
        elsif @user_selection == "8"
            selection_eight
        elsif @user_selection == "9"
            selection_nine
        else
            puts "Sorry. That doesn't seem to be a valid selection."
            return_to_main_menu
        end
    end

    def gym_method_selection
      # user = user_instance.name
      # selection = 1
      if @gym_option_input == "1"
          gym_selection_one
      elsif @gym_option_input == "2"
          gym_selection_two
      elsif @gym_option_input == "3"
          gym_selection_three
      elsif @gym_option_input == "4"
          gym_selection_four
      else
          puts "Sorry. That doesn't seem to be a valid selection."
          gym_menu_return
      end
    end



    

end